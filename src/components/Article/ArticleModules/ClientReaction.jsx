import { useTheme } from "next-themes";
import { TwitterShareButton,WhatsappShareButton,InstapaperShareButton, WhatsappIcon,TwitterIcon, TelegramShareButton, TelegramIcon, InstapaperIcon } from 'react-share';
import ChatBubbleIcon from "@mui/icons-material/ChatBubbleOutlineOutlined";
import { Checkbox } from "@mui/material";
import { useState } from "react";
import { PostUserReaction } from "@/core/services/api/Blogs/blogs";


const ClientReaction = ({ userReactions, setUserReactions,slug,details }) => {
  const url = typeof window !== 'undefined' ? window.location.href : '';
  const [liked, setLiked] = useState(false);
  const [disliked, setDisliked] = useState();
  const { theme, setTheme } = useTheme();
  const sendcm = async()=>{
    const res =  await PostUserReaction(userReactions,slug)
    console.log(res);
}
console.log(details);
  return (
    <div className={`flex justify-between `}>
   <span className={` text-lg items-center flex gap-3`}>
        share |{" "}
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 24 24"
            fill={theme=='dark' ? "#d1d1d1" : "black"}
          >
            <path
              d="M7.07254 9.813L5.01454 11.871C4.17056 12.715 3.69641 13.8597 3.69641 15.0532C3.69641 16.2468 4.17056 17.3915 5.01454 18.2355C5.85853 19.0795 7.00322 19.5536 8.19679 19.5536C9.39037 19.5536 10.5351 19.0795 11.379 18.2355L14.121 15.492C14.63 14.983 15.0094 14.3593 15.2274 13.6733C15.4455 12.9873 15.4958 12.259 15.3741 11.5496C15.2524 10.8402 14.9623 10.1702 14.5282 9.59611C14.094 9.02197 13.5285 8.56035 12.879 8.25L12 9.129C11.9108 9.2184 11.8332 9.31869 11.769 9.4275C12.2708 9.57175 12.7263 9.84447 13.0904 10.2187C13.4545 10.5929 13.7146 11.0557 13.845 11.5612C13.9755 12.0668 13.9717 12.5976 13.8341 13.1013C13.6966 13.6049 13.4299 14.064 13.0605 14.433L10.32 17.175C9.75712 17.7379 8.99363 18.0542 8.19754 18.0542C7.40145 18.0542 6.63796 17.7379 6.07504 17.175C5.51212 16.6121 5.19587 15.8486 5.19587 15.0525C5.19587 14.2564 5.51212 13.4929 6.07504 12.93L7.26454 11.742C7.09671 11.1131 7.03188 10.4611 7.07254 9.8115V9.813Z"
              fill=""
            />
            <path
              d="M9.87895 7.00837C9.37001 7.51739 8.9906 8.14106 8.77257 8.82705C8.55453 9.51304 8.50424 10.2413 8.62591 10.9508C8.74758 11.6602 9.03766 12.3301 9.47181 12.9043C9.90595 13.4784 10.4715 13.94 11.121 14.2504L12.2835 13.0864C11.7749 12.95 11.3112 12.6821 10.9389 12.3097C10.5666 11.9373 10.299 11.4734 10.1628 10.9648C10.0266 10.4562 10.0266 9.92064 10.163 9.41204C10.2993 8.90344 10.5671 8.43969 10.9395 8.06737L13.68 5.32537C14.2429 4.76245 15.0064 4.4462 15.8025 4.4462C16.5985 4.4462 17.362 4.76245 17.925 5.32537C18.4879 5.8883 18.8041 6.65178 18.8041 7.44787C18.8041 8.24397 18.4879 9.00745 17.925 9.57037L16.7355 10.7584C16.9035 11.3884 16.968 12.0409 16.9275 12.6889L18.9855 10.6309C19.8294 9.78689 20.3036 8.6422 20.3036 7.44862C20.3036 6.25505 19.8294 5.11036 18.9855 4.26637C18.1415 3.42239 16.9968 2.94824 15.8032 2.94824C14.6096 2.94824 13.4649 3.42239 12.621 4.26637L9.87895 7.00837Z"
              fill=""
            />
          </svg>
          <InstapaperShareButton url={url} >
                    <InstapaperIcon size={24} round  />
                </InstapaperShareButton>
        <WhatsappShareButton url={url} >
                    <WhatsappIcon size={24} round />
                </WhatsappShareButton>
                <TelegramShareButton url={url} >
                    <TelegramIcon size={24} round  />
                </TelegramShareButton>
        <TwitterShareButton url={url}>
                    <TwitterIcon size={24} round />
                </TwitterShareButton>
      </span>
      <span className="flex gap-3 items-center ">
        <div className="flex  !w-8 !h-8">
          <ChatBubbleIcon className="cursor-pointer mt-2 " />
        </div>

        <div className="flex center">
          <Checkbox
            disabled={userReactions.impression == "dislike" ? true : false}
            onClick={(e) => {
              // setLiked(true);
              setUserReactions({
                ...userReactions,
                impression: "like",
              });
              sendcm()
            }}
            icon={
              <svg
                id="liked"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill={theme=='dark' ? "#d1d1d1" : "black"}
                className="bi bi-hand-thumbs-up"
                viewBox="0 0 16 16"
              >
                <path d="M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2 2 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a10 10 0 0 0-.443.05 9.4 9.4 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a9 9 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.2 2.2 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.9.9 0 0 1-.121.416c-.165.288-.503.56-1.066.56z" />
              </svg>
            }
            checkedIcon={
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill={theme=='dark' ? "#d1d1d1" : "black"}
                className="bi bi-hand-thumbs-up-fill"
                viewBox="0 0 16 16"
              >
                <path d="M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a10 10 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733q.086.18.138.363c.077.27.113.567.113.856s-.036.586-.113.856c-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.2 3.2 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.8 4.8 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z" />
              </svg>
            }
          />
        </div>
        <div className="flex pt-2 ">
          <Checkbox
            disabled={userReactions.impression == "like" ? true : false}
            onClick={(e) => {
              // setDisliked(!disliked);
              setUserReactions({
                ...userReactions,
                impression: "dislike",
              });
            }}
            icon={
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill={theme=='dark' ? "#d1d1d1" : "black"}
                className="bi bi-hand-thumbs-down"
                viewBox="0 0 16 16"
              >
                <path d="M8.864 15.674c-.956.24-1.843-.484-1.908-1.42-.072-1.05-.23-2.015-.428-2.59-.125-.36-.479-1.012-1.04-1.638-.557-.624-1.282-1.179-2.131-1.41C2.685 8.432 2 7.85 2 7V3c0-.845.682-1.464 1.448-1.546 1.07-.113 1.564-.415 2.068-.723l.048-.029c.272-.166.578-.349.97-.484C6.931.08 7.395 0 8 0h3.5c.937 0 1.599.478 1.934 1.064.164.287.254.607.254.913 0 .152-.023.312-.077.464.201.262.38.577.488.9.11.33.172.762.004 1.15.069.13.12.268.159.403.077.27.113.567.113.856s-.036.586-.113.856c-.035.12-.08.244-.138.363.394.571.418 1.2.234 1.733-.206.592-.682 1.1-1.2 1.272-.847.283-1.803.276-2.516.211a10 10 0 0 1-.443-.05 9.36 9.36 0 0 1-.062 4.51c-.138.508-.55.848-1.012.964zM11.5 1H8c-.51 0-.863.068-1.14.163-.281.097-.506.229-.776.393l-.04.025c-.555.338-1.198.73-2.49.868-.333.035-.554.29-.554.55V7c0 .255.226.543.62.65 1.095.3 1.977.997 2.614 1.709.635.71 1.064 1.475 1.238 1.977.243.7.407 1.768.482 2.85.025.362.36.595.667.518l.262-.065c.16-.04.258-.144.288-.255a8.34 8.34 0 0 0-.145-4.726.5.5 0 0 1 .595-.643h.003l.014.004.058.013a9 9 0 0 0 1.036.157c.663.06 1.457.054 2.11-.163.175-.059.45-.301.57-.651.107-.308.087-.67-.266-1.021L12.793 7l.353-.354c.043-.042.105-.14.154-.315.048-.167.075-.37.075-.581s-.027-.414-.075-.581c-.05-.174-.111-.273-.154-.315l-.353-.354.353-.354c.047-.047.109-.176.005-.488a2.2 2.2 0 0 0-.505-.804l-.353-.354.353-.354c.006-.005.041-.05.041-.17a.9.9 0 0 0-.121-.415C12.4 1.272 12.063 1 11.5 1" />
              </svg>
            }
            checkedIcon={
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill={theme=='dark' ? "#d1d1d1" : "black"}
                className="bi bi-hand-thumbs-down-fill"
                viewBox="0 0 16 16"
              >
                <path d="M6.956 14.534c.065.936.952 1.659 1.908 1.42l.261-.065a1.38 1.38 0 0 0 1.012-.965c.22-.816.533-2.512.062-4.51q.205.03.443.051c.713.065 1.669.071 2.516-.211.518-.173.994-.68 1.2-1.272a1.9 1.9 0 0 0-.234-1.734c.058-.118.103-.242.138-.362.077-.27.113-.568.113-.856 0-.29-.036-.586-.113-.857a2 2 0 0 0-.16-.403c.169-.387.107-.82-.003-1.149a3.2 3.2 0 0 0-.488-.9c.054-.153.076-.313.076-.465a1.86 1.86 0 0 0-.253-.912C13.1.757 12.437.28 11.5.28H8c-.605 0-1.07.08-1.466.217a4.8 4.8 0 0 0-.97.485l-.048.029c-.504.308-.999.61-2.068.723C2.682 1.815 2 2.434 2 3.279v4c0 .851.685 1.433 1.357 1.616.849.232 1.574.787 2.132 1.41.56.626.914 1.28 1.039 1.638.199.575.356 1.54.428 2.591" />
              </svg>
            }
          />
        </div>
      </span>
    </div>
  );
};
export default ClientReaction;
